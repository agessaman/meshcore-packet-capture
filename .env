# ============================================================================
# MeshCore Packet Capture - Default Configuration
# ============================================================================
# DO NOT EDIT THIS FILE - Create .env.local to override settings
# This file contains default values and will be overwritten on updates
# ============================================================================

# -----------------------------------------------------------------------------
# Update Configuration
# -----------------------------------------------------------------------------
# Source repository and branch for updates (configured by installer)
PACKETCAPTURE_UPDATE_REPO=agessaman/meshcore-packet-capture
PACKETCAPTURE_UPDATE_BRANCH=main

# -----------------------------------------------------------------------------
# Connection Configuration
# -----------------------------------------------------------------------------
# Connection type: ble, serial, or tcp
PACKETCAPTURE_CONNECTION_TYPE=ble

# Connection timeout (in seconds)
PACKETCAPTURE_TIMEOUT=30

# Serial Configuration (when CONNECTION_TYPE=serial)
PACKETCAPTURE_SERIAL_PORTS=/dev/ttyUSB0
PACKETCAPTURE_SERIAL_BAUD_RATE=115200
PACKETCAPTURE_SERIAL_TIMEOUT=2

# TCP Configuration (when CONNECTION_TYPE=tcp)
PACKETCAPTURE_TCP_HOST=localhost
PACKETCAPTURE_TCP_PORT=5000

# BLE Configuration (when CONNECTION_TYPE=ble)
# PACKETCAPTURE_BLE_ADDRESS=XX:XX:XX:XX:XX:XX
# PACKETCAPTURE_BLE_DEVICE_NAME=MeshCore Device

# -----------------------------------------------------------------------------
# Topic Configuration
# -----------------------------------------------------------------------------
# Template variables supported: {IATA}, {IATA_lower}, {PUBLIC_KEY}
# Example: meshcore/{IATA}/{PUBLIC_KEY}/status
PACKETCAPTURE_TOPIC_STATUS=meshcore/{IATA}/{PUBLIC_KEY}/status
PACKETCAPTURE_TOPIC_PACKETS=meshcore/{IATA}/{PUBLIC_KEY}/packets
#PACKETCAPTURE_TOPIC_RAW=meshcore/{IATA}/{PUBLIC_KEY}/raw

# Global IATA code (used if not specified per broker)
# This is a 3-letter airport code identifying your geographic region
PACKETCAPTURE_IATA=LOC

# -----------------------------------------------------------------------------
# MQTT Broker 1 Configuration
# -----------------------------------------------------------------------------
PACKETCAPTURE_MQTT1_ENABLED=false
PACKETCAPTURE_MQTT1_SERVER=mqtt.example.com
PACKETCAPTURE_MQTT1_PORT=1883
PACKETCAPTURE_MQTT1_TRANSPORT=tcp
PACKETCAPTURE_MQTT1_USE_TLS=false
PACKETCAPTURE_MQTT1_TLS_VERIFY=true
PACKETCAPTURE_MQTT1_CLIENT_ID_PREFIX=meshcore_client_
PACKETCAPTURE_MQTT1_QOS=0
PACKETCAPTURE_MQTT1_RETAIN=true
PACKETCAPTURE_MQTT1_KEEPALIVE=60

# Authentication - Username/Password
PACKETCAPTURE_MQTT1_USERNAME=
PACKETCAPTURE_MQTT1_PASSWORD=

# Authentication - Auth Token (alternative to username/password)
PACKETCAPTURE_MQTT1_USE_AUTH_TOKEN=false
PACKETCAPTURE_MQTT1_TOKEN_AUDIENCE=

# Per-broker topic overrides (optional)
# PACKETCAPTURE_MQTT1_TOPIC_STATUS=meshcore/{IATA}/{PUBLIC_KEY}/status
# PACKETCAPTURE_MQTT1_TOPIC_PACKETS=meshcore/{IATA}/{PUBLIC_KEY}/packets
# PACKETCAPTURE_MQTT1_TOPIC_RAW=meshcore/{IATA}/{PUBLIC_KEY}/raw
# PACKETCAPTURE_MQTT1_IATA=SEA

# -----------------------------------------------------------------------------
# MQTT Broker 2 Configuration (Optional)
# -----------------------------------------------------------------------------
PACKETCAPTURE_MQTT2_ENABLED=false
# PACKETCAPTURE_MQTT2_SERVER=mqtt-us-v1.letsmesh.net
# PACKETCAPTURE_MQTT2_PORT=443
# PACKETCAPTURE_MQTT2_TRANSPORT=websockets
# PACKETCAPTURE_MQTT2_USE_TLS=true
# PACKETCAPTURE_MQTT2_USE_AUTH_TOKEN=true
# PACKETCAPTURE_MQTT2_TOKEN_AUDIENCE=mqtt-us-v1.letsmesh.net

# -----------------------------------------------------------------------------
# MQTT Broker 3 Configuration (Optional)
# -----------------------------------------------------------------------------
PACKETCAPTURE_MQTT3_ENABLED=false
# Add PACKETCAPTURE_MQTT3_* configuration as needed

# -----------------------------------------------------------------------------
# MQTT Broker 4 Configuration (Optional)
# -----------------------------------------------------------------------------
PACKETCAPTURE_MQTT4_ENABLED=false
# Add PACKETCAPTURE_MQTT4_* configuration as needed

# -----------------------------------------------------------------------------
# Connection Management
# -----------------------------------------------------------------------------
# Maximum connection retry attempts (0 = unlimited)
PACKETCAPTURE_MAX_CONNECTION_RETRIES=5
PACKETCAPTURE_CONNECTION_RETRY_DELAY=5
PACKETCAPTURE_HEALTH_CHECK_INTERVAL=30

# MQTT reconnection settings
PACKETCAPTURE_MAX_MQTT_RETRIES=5
PACKETCAPTURE_MQTT_RETRY_DELAY=5
PACKETCAPTURE_EXIT_ON_RECONNECT_FAIL=true

# -----------------------------------------------------------------------------
# JWT Token Management
# -----------------------------------------------------------------------------
# JWT token renewal settings (in seconds)
PACKETCAPTURE_JWT_RENEWAL_INTERVAL=3600
PACKETCAPTURE_JWT_RENEWAL_THRESHOLD=300

# Private key configuration (optional)
# PACKETCAPTURE_PRIVATE_KEY=your_private_key_here
# PACKETCAPTURE_PRIVATE_KEY_FILE=/path/to/private_key.pem

# -----------------------------------------------------------------------------
# Advert Configuration
# -----------------------------------------------------------------------------
# Send flood adverts at specified intervals (in hours, 0 = disabled)
PACKETCAPTURE_ADVERT_INTERVAL_HOURS=1

# -----------------------------------------------------------------------------
# Packet Capture Settings
# -----------------------------------------------------------------------------
# Origin name for packet metadata
# PACKETCAPTURE_ORIGIN=MeshCore Device

# -----------------------------------------------------------------------------
# RF Data Configuration
# -----------------------------------------------------------------------------
# RF data cache timeout (in seconds)
PACKETCAPTURE_RF_DATA_TIMEOUT=15.0

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
PACKETCAPTURE_LOG_LEVEL=INFO

# Origin information (auto-detected from device)
# PACKETCAPTURE_ORIGIN=My Device
# PACKETCAPTURE_ORIGIN_ID=device_public_key_here
